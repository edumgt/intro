<html>

<link rel="stylesheet" href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css">
<link rel="stylesheet" href="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.css" />
<link rel="stylesheet" href="https://uicdn.toast.com/tui-grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.js"></script>
<script type="text/javascript" src="https://uicdn.toast.com/tui.code-snippet/latest/tui-code-snippet.js"></script>
<script type="text/javascript" src="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.js"></script>
<script src="https://uicdn.toast.com/tui-grid/latest/tui-grid.js"></script>

<style>
    /*sub_container*/
    .sub_container {
        padding: 0 20px;
        height: 100%;
        padding-top: 58px;
    }

    .sub_nav {
        overflow: hidden;
        width: 100%;
        border: 1px solid #e5e7ee;
        border-radius: 5px;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        background: #f8f9fc;
    }

    .sub_nav li {
        float: left;
        width: 20%;
    }

    .sub_nav li a {
        display: block;
        padding: 16px 0 17px;
        text-align: center;
        background-color: #f8f9fc;
        color: #9e9fa1;
        font-size: 16px;
    }

    .sub_nav li.on a {
        color: #fff;
        background-color: #162866;
        font-weight: 500
    }

    .sub_cont_box {
        min-height: calc(100% - 54px);
        background-color: #fff;
        padding: 15px;
        line-height: 18px
    }

    .section_box {
        float: left;
        width: calc(50% - 30px);
        border: 1px solid #cecfd1;
        border-radius: 5px;
        margin: 15px;
        padding: 40px 60px;
    }

    .section_haed {
        width: 100%;
        float: left;
    }

    .section_title {
        display: block;
        float: left;
        font-size: 16px;
        color: #000;
        line-height: 28px;
    }

    .section_haed .check_box {
        float: left;
    }

    .section_haed .check_box input[type="checkbox"]+label {
        padding: 5px;
        padding-left: 28px;
        margin-left: 30px;
    }

    .section_haed .check_box input[type="checkbox"]+label:before {
        top: 4px;
    }

    .info_txt {
        display: block;
        float: left;
        font-size: 13px;
        line-height: 28px;
        color: #666;
        padding-left: 10px;
    }

    .section_body {
        padding-top: 20px;
        float: left;
        width: 100%
    }

    .section_body:first-child {
        padding-top: 0px;
    }

    .section_body:first-child .set:first-child {
        padding-top: 0;
    }

    .section_body:first-child .set:first-child .set_label {
        top: 0;
    }

    .section_btn_box {
        text-align: right;
        padding: 15px;
    }

    .section_btn_box .btn {
        min-width: 85px;
        padding: 10px;
    }

    .section_btn_box .btn+.btn {
        margin-left: 10px;
    }

    .section_tb_box {
        padding: 15px;
        position: relative;
    }

    .section_tb_box .btn {
        padding: 2px 10px 3px;
        min-width: 70px
    }

    .section_tb_box table {
        text-align: center
    }

    .section_btn_box+.section_tb_box {
        padding-top: 5px;
    }

    .result_num {
        display: inline-block;
        position: absolute;
        padding: 10px 0;
        bottom: 0;
        right: 0;
        color: #333;
    }

    /*search top box*/
    .search_top_box {
        width: 100%;
        padding: 8px 15px;
   
        position: relative;
        padding-right: 100px;
    }

    .search_top_box:before,
    .search_top_box:after {
        display: block;
        content: '';
        line-height: 0;
    }

    .search_top_box:after {
        clear: both;
    }

    .search_top_box>div {
        position: relative;
        float: left;
        margin-top: 7px;
        margin-bottom: 7px;
    }

    .search_top_box>* {
        margin-right: 30px
    }

    .search_top_box>*:last-child {
        margin-right: 0
    }

    .search_top_box .label {
        float: left;
        vertical-align: middle;
        padding-right: 10px;
    }

    .search_top_box input {
        width: 170px
    }

    .search_top_box .cal_set {
        float: left;
    }

    .search_top_box .cal_set input {
        width: 150px
    }

    .name_set input {
        width: 120px
    }

    .name_set select {
        min-width: 120px
    }

    .search_top_box .label+.check_set {
        padding-left: 15px;
    }

    .check_set {
        display: inline-block;
        vertical-align: middle;
    }

    .check_set li {
        display: inline-block;
    }

    .check_set li+li {
        margin-left: 6px;
    }

    .btn_search {
        width: 80px;
        display: block;
        position: absolute;
        right: 15px;
        top: 15px;
    }


    /*form*/
    .set {
        padding: 10px 0;
        position: relative;
        padding-left: 140px;
    }

    .set:last-child {
        padding-bottom: 0
    }

    .label {
        display: block;
        font-size: 15px;
        color: #333;
        font-weight: 500;
        line-height: 40px;
    }

    .set_label {
        display: block;
        position: absolute;
        left: 0;
        top: 10px;
        font-size: 15px;
        color: #333;
        font-weight: 500;
        line-height: 40px;
    }

    .set_left {
        position: absolute;
        left: 0;
        top: 10px;
    }

    .set_txt {
        color: #000;
        font-size: 14px;
        padding: 14px 0px;
        font-weight: 500
    }

    .pilsu {
        position: relative;
        display: inline-block;
        padding-right: 8px;
    }

    .pilsu:after {
        content: "*";
        color: #ff6a28;
        display: inline-block;
        position: absolute;
        right: 0;
        top: 0;
    }

    .msg_box1 {
        font-size: 12px;
        color: #333;
        padding-top: 5px;
    }

    .set_dan {
        display: block;
        float: left;
        line-height: 40px;
        padding: 0 4px;
        font-size: 14px;
        color: #000;
    }

    .set_auto input[type="text"],
    .set_auto input[type="number"],
    .set_auto input[type="password"],
    .set_auto input[type="date"],
    .set_auto input[type="tel"],
    .set_auto input[type="search"] {
        width: auto
    }

    .set_w80>* {
        width: 80px !important;
    }

    .set_w100>* {
        width: 100px !important;
    }

    /*btn color*/
    .btn_l_gray {
        border-color: #999;
        color: #999;
        background-color: #fff
    }

    .btn_b_gray {
        border-color: #999;
        color: #fff;
        background-color: #999
    }

    .btn_l_black {
        border-color: #121235;
        color: #121235;
        background-color: #fff
    }

    .btn_b_black {
        border-color: #121235;
        color: #fff;
        background-color: #121235
    }

    .btn_l_blue {
        border-color: #162866;
        color: #162866;
        background-color: #fff
    }

    .btn_b_blue {
        border-color: #162866;
        color: #fff;
        background-color: #162866
    }

     /*button*/
     .btn {
        font-family: "Noto Sans KR";
        display: inline-block;
        border-width: 1px;
        border-style: solid;
        color: #000;
        text-align: center;
        font-size: 14px;
        cursor: pointer;
        padding: 11px 10px;
        font-weight: 400;
        border-radius: 3px;
    }
</style>

<body>
    <!-- content -->
    <div id="content">
        <div class="sub_container">
            <div class="sub_cont_box">
                <div class="search_top_box">
                    <div class="name_set">
                        <label for="g_code" class="label">그룹코드</label>
                        <input type="text" id="tpcd" name="">
                    </div>
                    <div class="name_set">
                        <label for="code_name" class="label">코드명</label>
                        <input type="text" id="tpnm" name="">
                    </div>
                    <div>
                        <label for="use_sel" class="label">사용 여부</label>
                        <select id="useyn" name="" class="">
                            <option value="" selected="selected">전체</option>
                            <option value="Y">Y</option>
                            <option value="N">N</option>
                        </select>
                    </div>
                    <a id="search" class="btn btn_b_blue btn_search">검색</a>
                </div>
                <div class="section_btn_box mb_btn_box">
                    <a id="addrow" class="btn btn_l_blue">신규</a>
                    <a id="delrow" class="btn btn_l_blue">삭제</a>
                    <a id="saverow" class="btn btn_l_blue">저장</a>
                </div>
                <div class="base_tbl">
                    <div id="grid" style="height: 10px;"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- //content -->
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script>

        $(document).ready(function () {

            var clsData = {
                api: {
                    readData: {
                        url: '',
                        method: 'POST'
                    },
                    modifyData: {
                        url: '',
                        method: 'POST'
                    },
                    deleteData: {
                        url: '',
                        method: 'POST'
                    }
                },
                contentType: 'application/json',
                initialRequest: false // 디폴트 값은 true
            };

            // Load data from Local Storage
            function loadData() {
                var data = localStorage.getItem('gridData');
                return data ? JSON.parse(data) : [];
            }

            // Save data to Local Storage
            function saveData(data) {
                localStorage.setItem('gridData', JSON.stringify(data));
            }

            // GRID 생성
            var grid = new tui.Grid({
                el: document.getElementById('grid'),
                rowHeaders: ['checkbox', 'rowNum'], //default.css 에서 checkbox 주석처리함 
                editingEvent: 'click',
                scrollX: false,
                pageOptions: {
                    useClient: true,
                    perPage: 10
                },
                rowHeight: 28,
                minRowHeight: 20,
                columns: [{
                    header: '그룹코드',
                    name: 'tpCd',
                    editor: 'text',
                    validation: {
                        required: true,
                        unique: true
                    },
                    sortingType: 'desc',
                    sortable: true
                },
                {
                    header: '코드명',
                    name: 'tpNm',
                    editor: 'text',
                    sortingType: 'desc',
                    sortable: true
                },
                {
                    header: '설명',
                    name: 'descCntn',
                    editor: 'text',
                    sortingType: 'desc',
                    sortable: true
                },
                {
                    header: '사용여부',
                    name: 'useYn',
                    width: 100,
                    align: 'center',
                    sortingType: 'desc',
                    sortable: true,
                    formatter: 'listItemText',
                    editor: {
                        type: 'select',
                        options: {
                            listItems: [{
                                text: 'Y',
                                value: 'Y'
                            }, {
                                text: 'N',
                                value: 'N'
                            }]
                        }
                    }
                },
                ],
                data: loadData()
            });

            // Add new row
            function addRow() {
                var rowData = {
                    tpCd: '',
                    tpNm: '',
                    descCntn: '',
                    useYn: 'Y'
                }; //신규 생성 시 초기값.
                grid.prependRow(rowData, {
                    focus: true
                });
            }
            document.getElementById('addrow').addEventListener('click', addRow);

            // Delete selected rows
            function delRow() {
                var chkArray = grid.getCheckedRowKeys();
                if (chkArray.length > 0) {
                    grid.removeCheckedRows();
                    saveData(grid.getData());
                } else {
                    alert('항목이 선택되지 않았습니다.');
                }
            }
            document.getElementById('delrow').addEventListener('click', delRow);

            // Save rows to Local Storage
            function saveRow() {
                saveData(grid.getData());
                alert('데이터가 저장되었습니다.');
            }
            document.getElementById('saverow').addEventListener('click', saveRow);

        });

    </script>
</body>

</html>
